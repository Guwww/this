<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>cookie</title>
</head>
<body>
	<script type="text/javascript">
	// 	cookie : 存储数据，当用户访问了某个网站（网页）的时候，我们就可以通过cookie来像访问者电脑上存储数据
		// 1.不同的浏览器存放的cookie位置不一样，也是不能通用的
		// 2.cookie的存储是以域名形式进行区分的
		// 3.cookie的数据可以设置名字的
		// 4.一个域名下存放的cookie的个数是有限制的，不同的浏览器存放的个数不一样
		// 5.每个cookie存放的内容大小也是有限制的，不同的浏览器存放大小不一样
		
		// 我们通过document.cookie来获取当前网站下的cookie的时候，得到的字符串形式的值，他包含了当前网站下所有的cookie。他会把所有的cookie通过一个分号+空格的形式串联起来
		
		// 如果我们想长时间存放一个cookie。需要在设置这个cookie的时候同时给他设置一个过期的时间
		
		// cookie默认是临时存储的，当浏览器关闭进程的时候自动销毁


var oDate = new Date();   //以ms为基础的

oDate.getDate(); //获取当前的日期

oDate.setDate( oDate.getDate() + 5 );  //设置时间。  

oDate.toGMTString();  //日期对象转字符串

//内容最好编码存放  ==> encodeURI

encodeURI('你好') ;  //编码
decodeURI('%E4%BD%A0%E5%A5%BD')  //解码

document.cookie = 'username='+ encodeURI('leo\n你好') +';expires=' + oDate.toGMTString();


//设置
function setCookie(key, value, t) {
	var oDate = new Date();
	oDate.setDate( oDate.getDate() + t );  //当前的日期，加一个过期的时间
	document.cookie = key + '=' + value + ';expires=' + oDate.toGMTString();
}

//获取
function getCookie(key) {  //key是cookie保存的名字。 
	var arr1 = document.cookie.split('; ');
	for (var i=0; i<arr1.length; i++) {
		var arr2 = arr1[i].split('=');
		if ( arr2[0] == key ) {
			return decodeURI(arr2[1]);
		}
	}
}


//删除
function removeCookie(key) {
	setCookie(key, '', -1);
}


window.onload = function() {
	
	var oUsername = document.getElementById('username');
	var oLogin = document.getElementById('login');
	var oDel = document.getElementById('del');
	
	if ( getCookie('username') ) {   //判断是否 存过这个cookie
		oUsername.value = getCookie('username');
		console.log(getCookie('username'));
	}
	
	oLogin.onclick = function() {
		
		alert('登陆成功');
		setCookie('username', oUsername.value, 5);
		
	}
	
	oDel.onclick = function() {
		removeCookie('username');
		oUsername.value = '';
	}
	
}



	</script>
</body>
</html>